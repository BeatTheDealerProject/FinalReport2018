
\subsection{SGAの概要と問題点}
この項では遺伝的アルゴリズムの問題点について説明していく。佐藤ら(1997)は代表的な遺伝的アルゴリズムでの世代交代モデルとしてSimple GA(以下SGAと表記する)を挙げ、そのモデルの問題点と改善案を示している。ただし、ここでは適応度をもとにした選択処理についての問題点と改善案を挙げており、交叉アルゴリズムや遺伝子のコード設計、各種パラメータの設定に関しては扱っていない。

世代交代のモデルには、次世代の個体を生成するための親を選択する複製選択と、全ての個体の中から次世代に残す個体を選択する生存選択の2種類の処理が存在する。SGAの場合この2つの選択処理は次のようになっている。

\begin{itemize}
\item{複製選択}\\
適応度に比例した選択確率を用いたルーレット選択方式によって、集団から個体を復元抽出する。
復元抽出とは一度選択された個体も次以降の選択対象に含める、つまり同じ個体が複数回選ばれることを許している選択方法である。
\item{生存選択}\\
無条件で親集団と生成された子集団のすべてを入れ替える。
\end{itemize}

佐藤ら(1997)によるとSGAには3つの問題点があることが指摘されている。
\begin{enumerate}
\item{高い選択圧下での早期収束}
\begin{itemize}
\item{SGAのように適応度を用いてルーレット選択を行っている場合、探索の初期に適応度が突出した個体が存在するとその個体が複製選択において選ばれる可能性が高くなりすぎてしまう。そうなった場合、探索の序盤からその個体に遺伝子全体が収束してしまう現象が起きてしまい、最適な解にたどりつきづらくなってしまう。この現象は初期収束と呼ばれている。}
\end{itemize}
\item{低い選択圧下での停滞}
\begin{itemize}
\item{遺伝的アルゴリズムの探索が進み、各世代の個体間の適応度に差が見られなくなってきた時に複製選択においてルーレット選択の効果が弱くなることがある。そうなると個体が最適な解に向かって進みづらくなってしまう現象が起こることがある。ここでは進化的停滞と呼んでいる。}
\end{itemize}
\item{優秀な遺伝子の破壊}
\begin{itemize}
\item{SGAでは親から子に世代が移る時は無条件で全ての遺伝子を入れ替えてしまう。そのため親個体に適応度の高い個体が存在する場合でもその個体は次の世代では失われてしまう。そのため集団から適応度の高い個体が失われてしまう可能性がある。}
\end{itemize}
\end{enumerate}
\bunseki{伊藤晋之介}

\subsection{SGAの改善案の紹介}
前項で挙げられたようにSGAの世代交代モデルには、初期収束、進化的停滞などの様々な問題点が存在している。これらの問題点を解決するため、佐藤ら(1997)ではSGAの複製選択アルゴリズムと、生存選択アルゴリズムを変更したいくつかの世代交代モデルが紹介されている。

\subsubsection{Iterated Genetic Search(IGS)}
\begin{itemize}
\item{複製選択}\\
適応度を無視して集団から個体をランダムに非復元抽出する。非復元抽出とは、同じ個体を1度しか選択しない選び方のこと。
\item{生存選択}\\
適応度の平均以下の個体をランダムに選び、生成された子個体のうち数体と入れ替える。
\end{itemize}
このモデルでは親個体の選択に適応度を用いず、ランダムに選択している。そのため上で挙げられた初期収束に陥る可能性を避けることができる。生存選択の時には適応度が平均以下の個体を子世代に混ぜることで、適応度が高い個体同士からは作り出せない新たな個体が生成されることを期待できる。そのため効率的に探索を行える可能性がある。

\subsubsection{Steady State(SS)}
\begin{itemize}
\item{複製選択}\\
ランキング選択法を用いて集団から個体を復元抽出する。
\item{生存選択}\\
親集団から最悪個体を選び、生成された子個体と入れ替える。
\end{itemize}
このモデルでは複製選択にランキング選択法を用いている。ランキング選択法とは親個体を選ぶ際に適応度が高い順に個体に順位をつけていく。そして順位に応じてその個体が選択される数を決める方法。ルーレット選択方式に比べ、極端に適応度が高い個体が存在する場合でもその個体以外の個体も確実に選ばれることを保証できる。そのため初期収束してしまう可能性を抑えることができる。生存選択ではIGSと同じように適応度の低い個体をいくつか混ぜることで、新たな個体が生成されることを期待できる。

\subsubsection{CHC}
\begin{itemize}
\item{複製選択}\\
適応度を無視して集団から個体をランダムに非復元抽出する。
\item{生存選択}\\
親集団と子集団を合わせた2世代の中から、適応度の高い順に集団サイズ分の個体を次世代に残す。
\end{itemize}
複製選択については個体をランダムに選択し初期収束を回避している。生存選択では親個体をすべて子個体と入れ替えるのではなく、親世代と子世代を合わせたものの中から適応度順に集団サイズ分だけ選んでいる。この処理を行うことで、親世代の個体が次世代以降も生き残る可能性が出てくる。そうすることで親個体に存在した優秀な個体が世代交代で失われるのを防ぐことができる。

\subsubsection{Elitist Recombination(ER)}
\begin{itemize}
\item{複製選択}\\
適応度を無視して集団から個体をランダムに非復元抽出する。
\item{生存選択}\\
各家族、すなわち親として選ばれた2個体とそこから生成された子の2個体の中から適応度の高い2個体を次世代に残す。
\end{itemize}
複製選択では初期収束を回避するため個体をランダムに選択している。生存選択では各家族間で適応度を比べ優秀なものが生き残るようになっている。そのため親世代の優秀な個体が失われることを防ぐことができる。またCHCとは異なり適応度の比較が家族間で行われることで、優秀な個体が急激に集団に広まることを防ぐ効果もある。
\bunseki{伊藤晋之介}

\subsection{今回設計したGAのまとめと改善案}
\subsubsection{まとめ}
今回我々が作成した遺伝的アルゴリズムでは、親世代で最も優秀な個体を次世代に残すエリート保存方式を採用している。そのため上記の問題点で挙げている優秀な遺伝子の破壊が起きる可能性は低いと考えられる。図\ref{gaprocess}からもわかる通り最優秀個体の適応度は減少してはいない。\\
問題点としては、初期個体にブラックジャックの基本戦略、14以上でスタンドする戦略、15以上でスタンドする戦略、16以上でスタンドする戦略をそれぞれ5個体ずつ設定したことが挙げられる。今回は遺伝的アルゴリズムの実行時間を短縮するため、また最適な解を早く発見するため、戦略として優秀な基本戦略とそれを改変した戦略を初期個体に混ぜた。そのため個体全体がそれらの戦略に初期収束してしまった可能性がある。これは遺伝的アルゴリズムから出力された戦略表からもわかる。遺伝的アルゴリズムから出力された戦略表はハードハンドでは14以上でスタンドする戦略がそのまま出力され、ソフトハンドでは基本戦略から1つの遺伝子を変化させたものになっている。


\subsubsection{改善案}
改善案としては、1つ目に初期個体に含める基本戦略などの数を減らし、初期値の補正を緩くすることが考えられる。しかし初期値に補正を加えない場合、各個体のHとSが完全にランダムになり、複雑性が高くなりすぎてしまう可能性が考えられる。そのため解の探索が上手くいかず、優秀な戦略が得られない危険性がある。\\
2つ目に、作成した遺伝的アルゴリズムの個体数を増やすことが考えられる。今回の探索では実行時間が短かったこと、コンピュータの性能などの理由から個体数を各世代200体に設定した。しかしこの個体数を増やすことで一度に探索できる数が増えより良い解を見つけられる可能性がある。
3つ目にエリート保存方式の調節が挙げられる。今回エリート保存方式で保存する個体の数は1体のみだった。保存する個体数を増やすことで優秀な遺伝子をより多く次世代に生き残らせることができ、探索を効率的に行える効果があると考えられる。
その他細かい改善点としては交叉確率、突然変異確率など各種パラメータの調整、選択アルゴリズムをルーレット方式からランキング方式に変更することなどが挙げられる。
\bunseki{伊藤晋之介}