% プロジェクト学習中間報告書書式テンプレート ver.1.0 (iso-2022-jp)

% 両面印刷する場合は `openany' を削除する
\documentclass[11pt,a4paper,oneside]{jsbook}

\usepackage{bm}
\usepackage{float}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{blindtext}
\usepackage{here}
\usepackage[sectionbib]{chapterbib}
\usepackage[dvipdfmx]{graphicx}
\usepackage{funpro}
\usepackage{listings}
\usepackage{multirow}

\lstset{
 	language = Python,
 	%backgroundcolor={\color[white]},
 	breaklines = true,
 	breakindent = 10pt,
 	basicstyle = \ttfamily\scriptsize,
 	commentstyle = {\itshape \color[cmyk]{1,0.4,1,0}},
 	classoffset = 0,
 	keywordstyle = {\bfseries \color[cmyk]{0,1,0,0}},
 	stringstyle = {\ttfamily \color[rgb]{0,0,1}},
 	frame = TBrl,
 	framesep = 5pt,
 	numbers = left,
 	stepnumber = 1,
 	numberstyle = \tiny,
 	tabsize = 4,
 	captionpos = t
}

\thisYear{2018}
\jProjectName{ディーラーをやっつけろ! 複雑系の数理とシミュレーション}
\eProjectName{Beat the dealer! Mathematics of Complex Systems and Simulation.}
\ProjectNumber{3}
\jGroupName{グループ~1}
\eGroupName{Group~1}
\ProjectLeader{1014207}{菱田美紗紀}{Misaki~Hishida}
\GroupLeader  {1016123}{薩田凱斗}{Kaito~Satta}
\SumOfMembers{9}
\GroupMember  {1}{1016007}{柏田輝}{Hikaru~Kashiwada}
\GroupMember  {2}{1016042}{尾崎拓海}{Takumi~Ozaki}
\GroupMember  {3}{1016078}{伊藤晋之介}{Shinnosuke~Ito}
\GroupMember  {4}{1016087}{轟木文弥}{Fumiya~Todoroki}
\GroupMember  {5}{1016118}{葛西隼人}{Hayato~Kasai}
\GroupMember  {6}{1016175}{柿崎大輝}{Daiki~Kakizaki}
\GroupMember  {7}{1016184}{鳥谷航大}{Koudai~Toriya}
\GroupMember  {8}{1016207}{渡邊凛}{Rin~Watanabe}
\GroupMember  {9}{1016231}{米村祥裕}{Yoshihiro~Yonemura}
\jadvisor{川越敏司,川口聡,斎藤朝輝}
\eadvisor{Toshiji~Kawagoe,Satoshi~Kawaguchi,Asaki~Saitou}
\jdate{2019年1月16日}
\edate{January~16, 2019}

\renewcommand{\thesection}{\arabic{chapter}.\arabic{section}}%

% 画像ファイル (EPS, EPDF, PNG) を読み込むために
\usepackage[dvipdfmx]{graphicx,color}

\begin{document}
\maketitle
\pagenumbering{roman}
\fontsize{10}{18}\selectfont
%前付け
\frontmatter

% 和文概要
\begin{jabstract} 
\ \ 本プロジェクトでは、カジノにおいて最もポピュラーなゲームの一つであるブラックジャックを取り扱っている。ブラックジャックに関する代表的な行動戦略としてベーシックストラテジー、カウンティングという戦略が存在する。プレイヤーはこれらの戦略を用いることでブラックジャックの期待利得を増やすことができた。しかしカジノ側がカウンティングへの対策をしたことで、ブラックジャックにおいてカウンティングを使用することができなくなり、プレイヤーが利得を得ることは難しくなった。そこで我々は既存の戦略と比較し、以下の2つの観点から優れている戦略を新たに見つけ出すことをプロジェクトの目標とした。1つ目の観点はプレイヤーにとって扱いやすく、実行可能な戦略であること、2つ目は最終的な利得が他の戦略より大きくできることである。

\ \ 前期では、我々はベーシックストラテジーについてどの程度確かな戦略なのか、他の戦略に比べてどの程度プレイヤーに有利な戦略なのかを検証した。検証ではブラックジャックのシミュレータを作成しシミュレーションを行うことで、各戦略の勝率を調べた。さらに戦略の扱いやすさを判断するために、我々は戦略の複雑性を新しく定義した。そして戦略の勝率と複雑性を合わせた性能指標から戦略の評価を行なった。検証の結果から、複雑性を考慮した場合にはベーシックストラテジーには改善の余地があることがわかった。

\ \ 後期では前期に定義した複雑性の検証、遺伝的アルゴリズムを用いた新たな戦略の探索、シミュレータの改良を行った。複雑性の検証では実際に戦略を覚えてもらう実験を行った。実験の結果を分析したところ、複雑性が正しい指標であることが確認できた。遺伝的アルゴリズムでは複雑性を含めた性能指標を用いて戦略を探索し、優秀な戦略を得ることができた。シミュレータには賭け金の仕組みを導入することで、勝率だけではなく利得を計算できるようになった。その後、遺伝的アルゴリズムから得られた戦略とベーシックストラテジーを比較するためシミュレーションを行った。シミュレーションでは扱いやすさを考慮するため、プレイヤーが戦略を覚え間違える度合いをエラー率として新たに定義し、戦略間の比較を行った。シミュレーションの結果から遺伝的アルゴリズムから得られた戦略がベーシックストラテジーよりも扱いやすさと利得の両方の点から優れていることが分かった。

% 和文キーワード
\begin{jkeyword}
カジノ,\ ブラックジャック,\ ベーシックストラテジー,\ 複雑性
\end{jkeyword}
\bunseki{伊藤晋之介}
\end{jabstract}

%英語の概要
\begin{eabstract}
\ \  In this project, we deal with Blackjack, one of the most popular games in the casino. There are Basic Strategy and Counting as representative behavior strategy concerning Blackjack. Players were able to increase the expected gains of Blackjack by using these strategies.  However, as the casino side took countermeasures, Counting could not be used in Blackjack, and making it difficult for players to get gains. Therefore, we have set the goal of the project to discover superior strategies from the following two points in comparison with existing strategies. The first point is that it is easy for players to play and usable strategy, and the second is that the final gain can be larger than other strategies.

\ \ In the previous term, we examined how accurate the basic strategy, and how much it is advantageous to players compared with other strategies. In the verification, we created a simulator of Blackjack and conducted a simulation to investigate the winning percentage of each strategy. In addition, to determine the easy to handle of the strategy, we newly defined the complexity of the strategy. And we evaluated the strategy from the evaluation index which combined the winning percentage and the complexity of the strategy. From the results of the verification, it was found that there is room for improvement in the basic strategy when considering the complexity.

\ \ In the latter term, we verified the complexity defined in the previous term, searched for new strategies using Genetic algorithm, and improved the simulator. In the verification of complexity, we conducted an experiment to actually remember the strategy. From analyzed the results of the experiment, so we confirmed that the complexity is the correct index. In the Genetic algorithm, we were able to explore strategies using performance index including complexity and obtain excellent strategies. By introducing a mechanism of betting on the simulator, it became possible to calculate not only the winning percentage but also the gain. Then conducted a simulation to compare the strategy obtained from Genetic algorithm with the basic strategy. In this simulation, in order to handle ease of handling, the degree to which the player misunderstands the strategy is newly defined as an error rate, and comparison between the strategies was made. Simulation results show that Genetic algorithm's strategy is superior to basic strategy in terms of both ease of handling and final gain.
% 英文キーワード

\begin{ekeyword}
casino, blackjack, basic strategies, complexity
\end{ekeyword}
\bunseki{伊藤晋之介}
\end{eabstract}

\tableofcontents
\newpage

\pagenumbering{arabic}
\mainmatter

\chapter{研究背景}
\input{background/Introduction}
\input{background/rule.tex}
\input{background/basicstrategy.tex}
\input{hilo_ko.tex}
\input{betsystem.tex}

%既存戦略の検証に関する項目
\chapter{プロジェクトの目標}
%前期目標
%後期目標
\input{purpose/purpose.tex}
\chapter{複雑性について}
\input{complexity/complexity_def.tex}
\input{complexity/experiment.tex}
\chapter{シミュレータの作成について}
\input{simulator/about_simulator.tex}
\input{simulator/random.tex}
\chapter{ベーシックストラテジーの検証}
\input{verification/verification.tex}
\input{verification/simulator.tex}
\input{verification/statistics.tex}
\input{verification/complexity.tex}
\chapter{遺伝的アルゴリズム}
\input{geneticalgorithm/geneticalgorithm.tex}
\input{geneticalgorithm/geneticalgorithm_score.tex}
\input{geneticalgorithm/GAimprove.tex}
\chapter{賭け金ありのシミュレーション}
\input{verification_result/intro.tex}
\input{verification_result/strategiestable.tex}
\input{verification_result/betsimulation.tex}
\chapter{まとめ}
\input{./matome.tex}
\chapter{今後の課題}
\input{./futuretasks.tex}
\chapter{前期活動}
\input{./previousactivity.tex}
%\chapter{後期目標}
%\input{./lategoal.tex}
\chapter{後期活動}
\input{./lateactivity.tex}
\chapter{中間発表の評価}
\input{./evaluation/evaluation.tex}
\chapter{最終成果発表の評価}
\input{./evaluation/evaluation_final.tex}

\input{reference/reference.tex}

\chapter{付録}
\input{appendix/simulator_source.tex}
\input{appendix/geneticalgorithm/geneticalgorithm_source.tex}

%\input{appendix/crass_Card.tex}
%\input{appendix/crass_Deck.tex}
%\input{appendix/crass_GamePlayer.tex}

\end{document}
